# path to the task data directory
data_dir: null

# either provide a path to a plaintext file describing the task
desc_file: null
# or provide the task goal (and optionally evaluation information) as arguments
goal: null
eval: null

log_dir: logs
workspace_dir: workspaces

# whether to unzip any archives in the data directory
preprocess_data: True
# whether to copy the data to the workspace directory (otherwise it will be symlinked)
# copying is recommended to prevent the agent from accidentally modifying the original data
copy_data: True

exp_name: null # a random experiment name will be generated if not provided

# settings for code execution
exec:
  timeout: 3600
  agent_file_name: runfile.py
  format_tb_ipython: False

generate_report: True
# LLM settings for final report from journal
report:
  model: gemini-2.0-flash
  temp: 1.0

# agent hyperparams
agent:
  # how many improvement iterations to run
  steps: 20
  # whether to instruct the agent to use CV (set to 1 to disable)
  k_fold_validation: 5
  # whether to instruct the agent to generate a prediction function
  expose_prediction: False
  # whether to provide the agent with a preview of the data
  data_preview: True

  # ============================================
  # DUAL-MODEL CONFIGURATION ("The Lab")
  # ============================================
  
  # Worker 1: Planner (Reasoning Model for DRAFT planning phase)
  # Uses high-capability reasoning model to create detailed implementation plans
  planner:
    model: gemini-2.5-pro  # Reasoning model with advanced capabilities
    temp: 1.0                   # Reasoning models often work best with temp=1
    thinking_level: high        # Force deep reasoning (low, medium, high)
  
  # Worker 2: Coder (Fast Model for code execution + iteration)
  # Uses fast, cost-effective model for implementing plans and quick iterations
  coder:
    model: gemini-2.0-flash  # Fast Gemini model for coding
    temp: 0.0                # Deterministic for consistent coding
  
  # Backward compatibility: Legacy single-model config (deprecated)
  # If planner/coder not specified, falls back to this
  code:
    model: gemini-2.0-flash
    temp: 0.5

  # LLM settings for evaluating program output / tracebacks (The Critic)
  feedback:
    model: gemini-2.0-flash
    temp: 0.5

  # Plan review settings
  # Options for who reviews the plan before code execution:
  #   - "none": No review, execute plan immediately (fastest, legacy behavior)
  #   - "human": Human reviews plan via CLI or web UI (most control)
  #   - "critic": Feedback model (GPT-4o) reviews plan automatically (end-to-end autonomous)
  plan_review:
    mode: none                  # "none", "human", or "critic"
    save_plans: true            # Save all plans to log directory
    
  # Legacy human_review config (deprecated, use plan_review instead)
  human_review:
    enabled: false              # Enable plan review interrupt before code execution
    auto_approve: true          # If true, skip human review (useful for automated runs)
    timeout: null               # Optional timeout in seconds for review (null = no timeout)

  # hyperparameters for the tree search
  search:
    max_debug_depth: 3
    debug_prob: 0.5
    num_drafts: 5
